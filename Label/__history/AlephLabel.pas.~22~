unit AlephLabel;

interface

uses
  System.SysUtils,
  System.Classes,
  FMX.Types,
  FMX.Controls,
  FMX.Controls.Presentation,
  FMX.StdCtrls;

type
  TAlephLabel = class(TLabel)
  public
    procedure AdjustSizeComponent(AFormClientHeight, AFormClientWidth: Integer; AFontSizePercent: Double);
  end;

procedure Register;

implementation

procedure Register;
begin
  RegisterComponents('Aleph', [TAlephLabel]);
end;

{ TAlephLabel }

procedure TAlephLabel.AdjustSizeComponent(AFormClientHeight, AFormClientWidth: Integer; AFontSizePercent: Double);
var
  NewHeight, NewWidth: Integer;
begin
  Self.BeginUpdate;
  Self.StyledSettings := Self.StyledSettings - [TStyledSetting.Size];
  NewHeight := Trunc((AFormClientHeight * AFontSizePercent) / 100);
  NewWidth := Trunc((AFormClientWidth * AFontSizePercent) / 100);
  Self.TextSettings.Font.Size := Trunc((NewHeight + NewWidth) / 2);
  Self.EndUpdate;
end;

end.
