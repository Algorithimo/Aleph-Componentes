unit CustomRemControl;

interface

uses
  System.Classes, FMX.Controls, RemControlInterface, MainAleph;

type
  TCustomRemControl = class(TControl, IREmControl)
  private
    FRemMargins: TREmMargins;
    function GetRemMargins: TREmMargins;
    procedure SetRemMargins(const Value: TREmMargins);
  protected
    procedure Loaded; override;
  public
    constructor Create(AOwner: TComponent); override;
    destructor Destroy; override;
    procedure UpdateRemMargins;
    property RemMargins: TREmMargins read GetRemMargins write SetRemMargins;
  end;

implementation

{ TCustomRemControl }

constructor TCustomRemControl.Create(AOwner: TComponent);
begin
  inherited Create(AOwner);
  FRemMargins := TREmMargins.Create(12);  // Base size example
end;

destructor TCustomRemControl.Destroy;
begin
  FRemMargins.Free;
  inherited Destroy;
end;

procedure TCustomRemControl.Loaded;
begin
  inherited;
  UpdateRemMargins;
end;

function TCustomRemControl.GetRemMargins: TREmMargins;
begin
  Result := FRemMargins;
end;

procedure TCustomRemControl.SetRemMargins(const Value: TREmMargins);
begin
  FRemMargins.Assign(Value);
  UpdateRemMargins;
end;

procedure TCustomRemControl.UpdateRemMargins;
begin
  FRemMargins.ApplyToControl(Self);
end;

end.

